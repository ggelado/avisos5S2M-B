<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HP1VJBHQL3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HP1VJBHQL3');
</script>
<!-- Para facilitar añadir a pantalla inicio en móviles -->
<link rel="manifest" href="{{ site.baseurl }}/manifest.json">
<!-- iOS PWA -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Avisos 5S2M-B">
<link rel="icon" href="/avisos5S2M-B/favicon.ico" type="image/x-icon">

<!-- Icono iOS -->
<link rel="apple-touch-icon" href="/avisos5S2M-B/icons/180.png">

<!-- Páginas no vistas (para resaltados) -->
<script>
const SEEN_KEY = "seenPosts";

// Recupera el set de posts vistos
function getSeenPosts() {
  try {
    return new Set(JSON.parse(localStorage.getItem(SEEN_KEY) || "[]"));
  } catch {
    return new Set();
  }
}

// Guarda el set actualizado
function saveSeenPosts(set) {
  localStorage.setItem(SEEN_KEY, JSON.stringify([...set]));
}

(function initializeSeenPosts() {
  const seen = getSeenPosts();
  /*if (seen.size === 0) {
    const items = document.querySelectorAll("li[data-post-url]");
    items.forEach(li => seen.add(li.dataset.postUrl));
    saveSeenPosts(seen);
  }*/
})();
</script>
